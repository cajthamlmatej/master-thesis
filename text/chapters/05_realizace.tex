\chapter{Realizace}

\begin{chapterabstract}
Tato kapitola ...
\end{chapterabstract}

\section{Tvorba prototypu}


Během výběru samotného zadání této diplomové práce bylo nutné zvážit řadu faktorů, které by mohly ovlivnit realizovatelnost navrhovaného řešení. 
Jedním z klíčových aspektů byl potenciální problém s editorem, který by měl sloužit jako základ pro interaktivní tvorbu vzdělávacích materiálů. 
Jelikož existovalo riziko, že požadovanou funkcionalitu nebude možné efektivně implementovat v dostupných technologiích, bylo rozhodnuto o vytvoření prototypu. 
Tento prototyp měl za cíl ověřit proveditelnost hlavních funkcí a eliminovat případné zásadní překážky v rané fázi vývoje.

V rámci tvorby prototypu byly implementovány a testovány různé způsoby vykreslování obsahu, přičemž klíčovou otázkou bylo, zda bude vhodnější využít technologii HTML, SVG nebo Canvas.
Každý z těchto přístupů má své specifické výhody a nevýhody, které ovlivňují jak kvalitu zobrazení, tak výkon a možnosti interakce s uživatelem. 
Podrobnější rozbor těchto technologií je uveden v kapitole \ref{text:vykreslovani}, kde jsou jednotlivé přístupy porovnány z hlediska efektivity a použitelnosti v kontextu plánované platformy.

Při vývoji prototypu se objevily i obecné problémy související s implementací editoru -- respektive s jejich matematickou reprezentaci. 
Klíčovou výzvou se ukázaly být skupinové transformace a manipulace s prvky na plátně, zejména pokud jde o jejich pohyb a transformaci v rámci editačního prostoru.
Bylo nutné vyřešit, jakým způsobem budou tyto operace realizovány tak, aby editor zůstal uživatelsky přívětivý, efektivní a zároveň umožňoval pokročilé úpravy vytvořeného obsahu.

Na základě získaných poznatků byl prototyp úspěšně dokončen a posloužil jako důkaz, že zamýšlená funkcionalita může být realizována v rozumném stavu. 
Tento krok umožnil přejít k další fázi vývoje, která se zaměřuje na návrh a implementaci finální verze platformy s důrazem na rozšiřitelnost, komunitní podporu a snadnou použitelnost pro pedagogy i studenty.

Prototyp sloužil především k ověření základního konceptu a nebyl určen pro přímé použití v konečné implementaci platformy. 
Jeho účelem bylo rychlé experimentování s klíčovými funkcionalitami, bez důrazu na optimalizaci kódu či dlouhodobou udržitelnost. 
Po potvrzení, že zamýšlené principy mohou fungovat, bylo nutné přistoupit k přepsání prototypu do robustní a udržitelné podoby. 
Tento krok zahrnoval refaktorování kódu, zpřehlednění architektury a návrh struktury, která umožní snadnou údržbu i budoucí rozšíření funkcionalit. 
Přepis zároveň eliminoval technické dluhy vzniklé při rychlém vývoji.

% - behem vyberu samotneho zadani
% - velky risk problemu s editorem
% - implementovany ruzne zpusoby vykreslovani (viz kapitola \ref{text:vykreslovani}
% - obecny problemy s editorem a matematikou

\section{Metodika vývoje}

Proces vývoje platformy pro tvorbu interaktivních výukových materiálů probíhal iterativním způsobem, což umožnilo průběžné testování a úpravy jednotlivých částí aplikace. 
Tento přístup se ukázal jako efektivní nejen při samotné implementaci, ale i při optimalizaci uživatelského prostředí na základě zpětné vazby od testerů.

Vývoj začal základním návrhem a analýzou požadavků, což bylo detailně popsáno v kapitolách \ref{text:navrh} a \ref{text:analyza}. 
Po definování architektury systému a stanovení klíčových funkcionalit byl zahájen samotný vývoj. 
Každá část aplikace byla pečlivě promyšlena před jejím naprogramováním, přičemž se důraz kladl na modularitu a možnost budoucího rozšíření.

Samotný vývoj probíhal iterativně. 
V každém cyklu bylo nejprve rozhodnuto, na které části aplikace se bude pracovat. 
Poté následovala detailní analýza a návrh této části, což umožnilo identifikovat možné komplikace ještě před samotnou implementací. 
Po naprogramování byla nová funkcionalita nasazena na dočasné testovací prostředí, kde probíhalo její testování různými uživateli. 
K testování byli zapojeni především kolegové a studenti (viz kapitola \ref{text:testovani}), jejichž zpětná vazba byla klíčová pro identifikaci problémů a návrh zlepšení.

Získané podněty byly zaznamenány a klasifikovány dle priority. 
Kritické chyby byly opraveny okamžitě, zatímco drobné úpravy a návrhy na zlepšení byly zařazeny do plánu budoucího vývoje. 
Tento přístup zajišťoval nejen stabilní vývoj systému, ale také jeho postupné vylepšování bez nutnosti výrazných zásahů do již implementovaných částí.

Během vývoje byl také kladen důraz na refaktoring kódu, což umožnilo udržovat čitelnost a efektivitu implementace. 
Starší části aplikace byly pravidelně přepisovány a optimalizovány s cílem zvýšit výkon a usnadnit další rozšíření systému.

Tento iterativní proces vývoje umožnil nejen průběžné zdokonalování aplikace, ale také pružně reagovat na nové požadavky a potřeby uživatelů. 
Díky tomuto přístupu bylo možné zajistit vysokou kvalitu finální verze platformy a její snadnou škálovatelnost pro budoucí rozšíření.


% - po zakladnim navrhu a analyze (viz kapitoly \ref{text:navrh} a \ref{text:analyza})
% - iterativni zpusob prace
%     - rozhodnout co dale programovat, analyza a navrh dane casti
%     - naprogramovat cast
%     - cast nasadit na docasnou produkci
%     - predat k testovani ruznymi kamarady (viz kapitola \ref{text:testovani})
%     - ulozit si feedback, issues
%     - opravit akutni chyby
% - prepisovani a vyuziti refactoring

\section{Serverová část}

\subsection{Autentizace a autorizace}

\section{Klientská část}\label{text:realizace/klient}

Klientská část aplikace byla vyvinuta jako webová aplikace v souladu s návrhem z kapitoly \ref{text:navrh/klient}. 
Pro implementaci byl zvolen framework Vue spolu s nástrojem Vite, který umožňuje rychlý vývoj a stabilní správu závislostí.

Pro usnadnění tvorby požadovaných funkcionalit bylo využito několik knihoven, které zajišťují specifické potřeby aplikace. 
Mezi klíčové patří:

\begin{description}
    \item[floating-vue] Slouží k tvorbě vyskakovacích nápověd a kontextových menu.
    \item[moment] Umožňuje snadnou správu a manipulaci s daty a časovými údaji.
    \item[pinia] Poskytuje jednoduchý a efektivní způsob správy globálního stavu aplikace.
    \item[vue-router] Umožňuje vytvoření více virtuálních stránek v rámci jedné aplikace.
\end{description}

Dále byly použity i další knihovny, které přispívají k lepší modularitě a efektivitě vývoje.
O některých se budu dále zmiňovat v následujících kapitolách.


% - dle navrhu z analyzy \ref{text:navrh/klient} vytvorena webová aplikace
% - použit framewrok Vue s nástrojem Vite
% - použita řada knihoven pro zlehceni tvorby pozadovanych funkcionalit, napriklad:
%     - floating-vue pro tvorbu vyskakovacich tooltipů a menu
%     - moment pro jednoduchou správu datumu a času
%     - pinia pro jednoduchou správu data v globálních úložištích
%     - vue-router pro vytvoření více viruálních stránek
%     - a další

\subsection{Komponenty}

V souladu s analýzou v kapitole \ref{text:navrh/design/komponenty} byly vytvořeny všechny potřebné komponenty. 
Při jejich návrhu byl kladen důraz na znovupoužitelnost a udržitelnost kódu, přičemž značná část tvorby, inspirace a kódu pocházela z mé bakalářské práce~\cite{cajthaml_bp}.

První iterace vývoje se zaměřovala na základní implementaci klíčových prvků a ověření jejich funkčnosti. 
Hlavním cílem bylo zajistit, aby komponenty byly dobře udržovatelné a univerzálně použitelné v různých částech aplikace.

Tyto komponenty sloužili především pro webovou stránku a uvnitř editoru (viz kapitola \ref{text:realizace/editor}) se nepoužívají.

% - dle analýzy, kapitoly \ref{text:navrh/desgin/komponenty}, vytvořeny všechny komponenty
% - reusing kodu komponent, hodne inspirace z me bakalarske prace
% - obecne vytvareno prvni iterace 
% - cilem udrzitelne a pouzitelne komponenty

\subsection{Designový návrh}

První verze designu aplikace využívala komponenty a vizuální prvky, které byly navrženy s důrazem na rychlost vývoje a demonstraci funkčnosti. 
Tento přístup umožnil efektivní iteraci a testování uživatelského rozhraní v raných fázích vývoje.
Komponenty vycházely z designu vytvořeného v rámci mé bakalářské práce, což přineslo nejen vizuální kontinuitu, ale i možnost znovupoužití ověřeného kódu.

Postupem času bylo nutné design sjednotit a vytvořit konzistentní vizuální styl aplikace.
Namísto pevně daného návrhu jsem pracoval iterativně -- upravoval jsem komponenty, barvy a jejich proměnné, dokud celek nepůsobil harmonicky a esteticky vyváženě. 
Jako hlavní vizuální inspiraci jsem zvolil styl \texttt{glassmorphism}, který se vyznačuje průhlednými a rozmazanými prvky, čímž vytváří moderní a elegantní uživatelské rozhraní.
Tento styl je populární v moderním UI/UX designu a využívají ho například operační systémy macOS a Windows~11 nebo některé mobilní aplikace.
Součástí vizuální identity aplikace se stala fialová barva doplněná o gradienty, což přispívá k výraznému a zapamatovatelnému vzhledu.

Hlavním cílem bylo vytvořit jednoduchý, ale vizuálně přitažlivý design, který bude snadno přizpůsobitelný. 
Pro usnadnění budoucích úprav a možnou implementaci více barevných režimů byly ve stylování využity CSS proměnné.
Tento přístup umožňuje nejen jednoduché změny barevných schémat, ale i potenciální rozšíření designu o tmavý nebo kontrastní režim podle preferencí uživatele.

% - prvni iterace hodne inspirace z me bakalarske prace, reusing kodu komponent
% - v pozdejsich fazich vytvoren jednotny styl
% - hodne inspirace glassmorphismu, tedy pruhledne rozmazene interakce
% - jednoduchy transparent
% - vse konzistnetni a to i v editoru
% - po vybrání designu vybrán název - Materalist, sjednocení anglického Material a Specialist, indikuje spoustu dalisch veci
% - vytvoreno logo (+ obrazek), ktere simbolizuje platno a M jako material
% - pouzivani promennych pro jednodusi styling v budoucnosti, pridani barevnych modu

\subsection{Autentizace a autorizace}

Aplikace odděluje obsah určený pro veřejnost od částí přístupných pouze přihlášeným uživatelům. 
Všechny stránky s výjimkou přehrávače jsou dostupné jen po přihlášení. 
Autentizace probíhá pomocí tokenu, který se ukládá do localStorage. 
Pokud token vyprší, uživatel je automaticky přesměrován na přihlašovací obrazovku.

Autorizace se opírá o kontrolu přístupových práv při každém požadavku. 
Při každém požadavku v hlavičce \texttt{Authorization} s typem \texttt{Bearer} nalezne řetězec kódu JWT.
Kód obsahuje mimo jiné ID a jméno uživatele pro rychlejší přístup v aplikaci.

Pokud uživatel nemá oprávnění k požadované akci nebo zdroji, server vrací chybu. 
Klient správně reaguje na neúspěšné požadavky vyskakovacími okny, dialogy a jinými upozorněními.

Každý materiál má svého vlastníka, který k němu má vždy plný přístup. 
Vlastník materiálu může určit seznam spoluúčastníku, kteří mají přístup k editoru a přehrávání materiálu.

Materiály dále rozlišují viditelnost pomocí příznaku \texttt{visibility}. 
Pokud je nastavena hodnota \texttt{PUBLIC}, je materiál veřejně dostupný pro přehrávání přes přehrávač. 
V opačném případě, tedy při hodnotě \texttt{PRIVATE}, je přístup omezený pouze na vlastníka a případně přidané spolupracovníky.


% - všechny stránky až na přehrávač pouze pro přihlášené
% - token v localstorage
% - při expirování automaticky na login screen
% - autorizace: pokud nema pristup tak se hodi chyba
% - materiály mají majitele, který má přístu vždy
% - materiál může mít nastavenou viditelnost (VISIBILITY) na PRIVATE vs PUBLIC, kdy PUBLIC dovolí to zobrazovat všem (player)
% - materiál může mít přiřazené kolaborátory, kteří mají přístup k materiálu a přehrávání

\subsection{Šablony}\todo{není implementované}

- procházení

\subsection{Responzivita}


Všechny stránky aplikace jsou přizpůsobené pro různá zařízení, jak je podrobněji uvedeno v kapitole \ref{text:testovani}. 
Responzivita je zajištěna hlavně díky použití komponentového systému a systému gridu, přičemž konkrétně se využívá dvanácti sloupcové rozvržení. 
Rozdělení do sloupců je řízeno pomocí CSS tříd a breakpointů, přičemž nejčastěji se používají pouze tři základní — \texttt{sm}, \texttt{md} a všechny vyšší velikosti.

Většina rozvržení se přizpůsobuje právě přes tyto breakpointy. 
Dále se využívají pomocné třídy pro nastavení okrajů (\texttt{margin}), vnitřních okrajů (\texttt{padding}), flexibilního rozmístění prvků (\texttt{flex}) a rozestupů (\texttt{gap}). 
Tyto třídy také reagují na breakpointy, což umožňuje jemné doladění vzhledu jednotlivých částí rozhraní podle šířky obrazovky.

Výjimku tvoří editor, který má z pohledu responzivity specifické chování. 
Podrobnosti jeho řešení jsou popsány v kapitole \ref{text:realizace/editor}. 
V jeho případě bylo nutné upravit některé části individuálně, protože běžné techniky nebyly dostačující.

% - veskere stranky responzivni na urcite zarizeni, viz kapitola \ref{text:testovani}
% - responzivita diky komponentam, @media queries, celkove skoro žádná, až na editor, viz kapitola \ref{text:realizace/editor}
% - využití systému gridu, 12 sloupců, dělení pomocí columns, stejně jako komponenty, pomocí breakpointu
% - sloupce pomocí breakpointu, v zásadě jen "sm", "md" a vše vyšší
% - pomocné třídy pro padding, margin, flex, gapy a další, znovu breakpointy.


\subsection{Překlady}

Překlady v aplikaci probíhají pomocí vlastního systému, který vychází ze strukturovaného zápisu v jazyce JSON. 
Každý překlad je identifikován unikátním klíčem, například \texttt{editor.action.delete.tooltip}, a uložen ve stromové struktuře jako je vyobrazen v kódu \ref{code:zapisPrekladu}.
Tento přístup zajišťuje přehlednost a snadnou údržbu jednotlivých jazykových mutací.


\begin{listing}[ht!]
\caption{Ukázka zápisu překladů}\label{code:zapisPrekladu}
\begin{minted}{json}
{
    "editor": {
        "action": {
            "delete": {
                "tooltip": "Delete"
            }
        }
    }
}
\end{minted}
\end{listing}

K překladu textů v rozhraní se využívají direktivy \texttt{v-t} a funkce \texttt{\$t}, které dovolují překlad.
Taktéž umožňují vkládání proměnných přímo do přeložených řetězců. 
Proměnné jsou nahrazovány pomocí syntaxe jako \texttt{\%test\%}, což umožňuje dynamickou práci s obsahem bez nutnosti duplicitních překladů.

Aktuálně aplikace podporuje dva jazyky: češtinu a angličtinu. 
Překlady se ukládají i do zkrácené podoby v URL, což umožňuje přímé sdílení konkrétní jazykové verze rozhraní. 
Do budoucna lze očekávat problémy spojené se skloňováním, zejména v jazycích se složitou gramatikou, která vyžaduje flexibilitu podle kontextu. 
Tento aspekt zatím systém neřeší a může být řešen později například pomocí rozšíření stávající logiky.

% - vlastni system
% - pouziti klicu (napr. editor.title), zapis v JSON (\{editor: \{title: "..."\}\})
% - ulozeni zkratky v URL
% - pouziti direktiv a funkce \$t pro preklad, jde vkladat promenne
% - promenne nahrazovani pomoci \%test\%
% - v aplikaci prozaitm CS a EN
% - v budoucnu mozny problem se sklonovanim

\subsection{Optimalizace pro webové vyhledávače}

\section{Editor a přehrávač}\label{text:realizace/editor}

Editor a přehrávač tvoří jádro klientské části aplikace. 
Jde o nejzásadnější komponentu, která přímo ovlivňuje práci s materiálem. 
Obě části sdílí podobnou strukturu kódu a pracují s jednotným datovým modelem -- takzvanými bloky. 
Každá instance editoru nebo přehrávače je vždy svázána s jedním konkrétním snímkem. 
Vykreslování probíhá nezávisle na frameworku Vue a bylo nutné vytvořit vlastní mechanismus překreslování.

Pro vykreslování využívám čisté DOM v JS prohlížeče.
Každá komponenta editoru či přehrávače má na starosti práci se svým prvkem stránky a to včetně překreslování při změně dat.

\subsection{Materiál}

Materiál představuje základní datovou jednotku editoru.
Skládá se z několika snímků a nese název, který slouží pro identifikaci. 
Snímek ukládá informace o velikosti plátna či barvě pozadí.
Kromě obsahu materiálu jsou součástí také informace o způsobu jeho zobrazování, časovač, viditelnost či přístupnost pro jednotlivé uživatele.

\subsection{Bloky}

Bloky reprezentují uživatelem vytvořená data, jako jsou texty, obrázky nebo jiné vizuální prvky. 

Každý blok obsahuje základní sadu vlastností: 

\begin{itemize}
	\item pozici na snímku
	\item velikost
	\item otočení
	\item průhlednost
	\item skupina
	\item z-index
	\item informace o interaktivitě
\end{itemize}

Z této základní třídy vycházejí všechny konkrétní typy bloků, které rozšiřují funkčnost podle svého určení.
Každý blok se řadí do konkrétnější třídy podle toho, zda je určen pro přehrávač či editor.
Podle toho mají konkrétní funkcionality.

\subsubsection{Serializace a deserializace}

Editor má vytvořenou metodu \texttt{serialize}, která slouží k převodu stavu editoru do JSON formátu.

Každý blok taktéž disponuje metodou \texttt{serialize}, která slouží k převodu interního stavu bloku do JSON formátu. 
Výstup slouží k ukládání a pozdějšímu načtení dat. 
Děděné třídy anotují vlastnosti, které se mají do serializace zahrnout, pomocí TypeScript dekorátorů. 
Tato metoda zajišťuje, že se ukládají pouze relevantní informace a celý proces zůstává přehledný a konzistentní.

Pro proces deserializace jsou vytvořeny pro každý jednotlivý blok třída, která slouží k jeho deserializaci a převedení do podoby instance určené pro editor či přehrávač.

Pro deserializaci (a práci v celém editoru či přehrávači) je vytvořená třída \texttt{BlockRegistry}, do které si jde zaregistrovat právě soubor třídy pro editor, třídy pro přehrávač a deserializer. 

\subsubsection{Události}

Bloky mohou reagovat na různé události, jako je vykreslení na stránku, výběr uživatelem, pohyb, změna velikosti a další interakce.
Tyto události jsou implementovány jako metody s TypeScript dekorátory, které umožňují snadné napojení na jakoukoliv metodu a to i klidně vícekrát.
Díky tomu mohou jednotlivé bloky flexibilně reagovat na dění v editoru i přehrávači.

\subsection{Editor}

Editor nadstavuje základní funkcionalitu bloků o nástroje určené pro jejich úpravu. 
Nabízí bohaté možnosti nastavení, rozhraní pro interakci i další API, které využívají jak bloky, tak nadřazené části aplikace.
Editor je navržen jako rozšiřitelný a jednotlivé bloky se mohou připojovat na jeho události.

\subsubsection{Transformace}

Editor umožňuje s bloky manipulovat pomocí několika nástrojů. 
Bloky lze označovat jednotlivě nebo hromadně, měnit jejich velikost, přesouvat je po ploše nebo je otáčet. 
Způsob transformace lze přizpůsobit -- podle nastavení může být například změna velikosti sdílená jako jeden velký objekt či jednotlivě.

Každý blok má možnost zakázat některé operace, například znemožnit otočení nebo změnu velikosti. 
Bloky lze také uzamknout, což znemožní jejich výběr při tažení výběrovým rámečkem (select boxem). 
Tato granularita nastavení zajišťuje přesné chování bloku podle kontextu použití.

% \section{Editor a přehrávač}\label{text:realizace/editor}

% - součást klientské části
% - nejdůležitější část
% - samostatné vykreslování mimo Vue, vlastní řešení překreslování
% - oboje podobný kód, pracují s tzv. bloky
% - vždy instance pro jednu stránku

% \subsection{Materiál}

% - obsahuje několik stránek
% - jméno
% - nastavení zobrazování

% \subsection{Bloky}

% - reprezentuje uživatelem vytvořená data
% - např. text či obrázky
% - každý blok obsahuje základní data: pozici, velikost, otočení, průhlednost, skupinu, z-index a interaktivitu
% - z této třídy poté ostatní dědí

% \subsubsection{Serializace}

% - slouží k převedení bloku do JSON podoby, která se poté ukládá
% - každý blok má serialize metodu, která slouží pro nalezení věcí, které se mají uložit a uložení jich
% - vlastnosti v děděných třídách se anotují pomocí TS dekorátorů, které metoda čte

% \subsubsection{Události}
% - jednotlivé bloky dědící z hlavní třídy mohou používat eventy
% - tím se lze navázat například na to, kdy je blok vykreslen na stránku, vybrán v editoru, posunován a mnoho dalšího
% - pro toto používám TS dekorátory metod

% \subsection{Editor}

% - specifické věci pro editor následují
% - editor má dost nastavení a další API
% - editor má události, na které se může každý blok vázat

% \subsubsection{Transformace}

% - bloky je možné:
%   - označovat (i více)
%   - zvětšovat
%   - posouvat
%   - otáčet

% - dle nastavení mohou být operace zvětšování nastaveny na kolaborativní či jednotlivé transformace

% - každý blok může jednotlivé operace vypnout

% - tažení (select box)
% - blok může být uzamknut a není možné ho vybrat tažením

\subsubsection{Akce}

Editor podporuje množství kontextových akcí, které se dynamicky mění podle aktuálního výběru. 
Tyto akce jsou dostupné buď v kontextovém menu (pravým kliknutím), nebo jako globální nástroj nad označenými bloky. 
Rozhraní pro akce se aktualizuje podle typu a množství označených bloků.

Mezi běžné akce patří seskupování bloků, jejich oddělování, přesunutí do jiného snímku, kopírování nebo mazání. 
Každá akce může mít definované klávesové zkratky, které umožňují efektivní práci i bez použití myši. 
Základní sada akcí je definována jako rozšiřitelná a jednotlivé akce lze registrovat externě.

\subsubsection{Vlastnosti bloků}

Editor zobrazuje panel vlastností, který se mění v závislosti na výběru. 
Při výběru více bloků se zobrazuje pouze podmnožina vlastností, které mají bloky společné a které lze hromadně upravit. 
Například u více vybraných bloků tvaru je možné současně měnit průhlednost či barvu ale i tvar.

Systém vlastností je navržen jako flexibilní API, které umožňuje definovat různé typy vstupů včetně posuvníků, barevných výběrů, zaškrtávacích polí a dalších. 
Editor podporuje také přímé tahání u nadpisu vlastnosti pro efektivnější změnu hodnoty vlastnosti.

Panel vlastností se může dynamicky měnit -- zmenšovat, skrývat nebo naopak rozšiřovat podle obsahu a typu vybraných bloků. 
Díky tomu zůstává uživatelské rozhraní přehledné i při práci s komplexními scénami.


% \subsubsection{Akce}

% - kontextove (pravy klik)
% - select (nad označenými prvky)
% - updatuji se dle označenych prvků
% - např. seskupení, přesunutí do plátna, kopírování
% - každá akce může mít klávesové zkratky, které dovolují jednoduché akce s editorem

% - jaké byly implementované?\todo{todo}

% \subsubsection{Vlastnosti bloků}

% - podle vybraných bloků
% - stejné možné vlastnosti, které to podporují se mohou spojit do jedné
% - možnost upravovat skoro jakákoliv data
% - velké api agregací a typů vlastností
% - možnost změny pomocí dragování
% - panel se zdá zvětšovat i skrývat

\subsubsection{Historie}
\subsubsection{Schránka}
\subsubsection{Nastavení}

\subsection{Přehrávač}
\subsubsection{Kreslení}

\subsection{Interaktivita}

\subsection{Multimédia}

- vytvořené z fotobank/gifbank
- uživatel má možnost nahrát vlastní obrázky

\subsection{Kolaborace}

\section{Rozšíření}

Platforma umožňuje přidávat nové funkcionality pomocí tzv. pluginů. 
Každý plugin má své jedinečné jméno a krátký popis, který vysvětluje jeho účel a hlavní funkce. 
Plugin může existovat v několika verzích, přičemž každá verze obsahuje manifest, kód pluginu a případně specifický kód pro editor.
Manifest obsahuje informace o tom, pro jakou verzi aplikace bylo rozšíření napsáno a různé další data, jako je například nastavení přístupu k doménám či jiným pravomocem.

Uživatelé, resp. vývojáři, mohou pluginy jednoduše přidávat přímo v aplikaci, pokud jsou přihlášeni, a také mají možnost nahrávat nové verze stávajících pluginů. 
K zajištění bezpečnosti a kvality je implementován systém schvalování, který ověřuje, zda pluginy splňují stanovená kritéria před jejich zveřejněním.

\subsection{Spouštění kódu}

Spouštění kódu pluginů probíhá bezpečně v prostředí QuickJS, jak je uvedeno v návrhu v kapitole \ref{text:navrh/plugins}. 
Kód pluginů má omezený přístup pouze k API editoru a obsahu stránky prostřednictvím definovaného rozhraní. 
Přístup k jakýmkoliv dalším zdrojům mimo tento rámec není možný ze zabezpečení knihovny QuickJS a jejich systému.

\subsection{Přístup k API}

Platforma poskytuje pluginům jasně definované globální API zahrnující funkce jako je:

\begin{description}
    \item[fetch] Který dovoluje volat požadavky přímo jako stránka editoru (tj. s CORS) na povolených doménách z manifestu.
    \item[cache] Který dovoluje rozšíření si pamatovat věci skrz spuštění.
    \item[plugin] Který dovoluje vědět, kdo je aktuálním spouštěčem skriptu.
    \item[language] Který dovoluje zjistit v jakém jazyce je aktuálně vykreslována stránka.
    \item[log] Který dovoluje vypisovat věci do konzole a logovacích souborů.
\end{description}

Dále mohou pluginy využívat API jednotlivých bloků, které umožňuje přístup k jejich vlastnostem a metodám.

Dále rozšíření, podle toho, kde jsou spuštěny, dovolují přistupovat ke konkrétním API přehrávače či editoru.

Editor API nabízí možnost číst bloky, přidávat nové bloky a nastavovat různé režimy a velikosti pracovního plátna. Podobně funguje i Player API, které rovněž umožňuje čtení a přidávání bloků spolu s nastavením režimů a velikostí.

\subsection{Zachycení se k událostem}

\subsection{Vykreslované bloky}

Pluginy mohou vytvářet vlastní bloky, které jsou vykreslovány při zobrazení materiálu. 
Samotné vykreslení bloku provádí platforma voláním příslušného rozšíření. 
Bloky a pluginy spolu mohou obousměrně komunikovat, což umožňuje dynamickou aktualizaci obsahu a interakci uživatelů s vykreslenými prvky.
Překreslování pomocí volání pluginu (tj. vykreslování HTML) je prováděno sporadicky, zejména jen v době, kdy se vykresluje poprvé či se upravují vlastnosti bloku.

\subsection{Panel}

Každý plugin může registrovat svůj vlastní panel, který se jednorázově vykreslí v uživatelském rozhraní. 
Tento panel umožňuje komunikaci mezi bloky a pluginy a slouží k výměně dat, například pro konfiguraci nastavení, vytváření nových bloků či editaci stávajících prvků.

% \section{Rozšíření}

% - plugin jmeno a popis
% - nekolik verzi, obshauje:
%   - manifest
%   - plugin kod
%   - editor kod
% - moznost pridavat pluginy v aplikaci pro prihlašeni a nahravat nove verze
% - system schvalovani\todo{neni}

% \subsection{Spouštění kódu}

% - viz navrh \ref{text:navrh/plugins}
% - tedy v JS, v emscriptu, zabezpečene
% - přistup k editoru a strance obecne pomoci api
% - mimo nema pristup, velmi omezene

% \subsection{Přístup k API}

% - globalni api:
%    - fetch
%    - cache
%    - plugin
%    - language
%    - log
% - bloky:
%    - bloky registruji api
%    - pristup vlastnosti jakymkoliv
% - editor api
%    - cteni bloku
%    - pridani bloku
%    - mody, velikosti platna
% - player api
%    - cteni bloku
%    - pridani bloku
%    - mody, velikosti platna

% \subsection{Vykreslované bloky}

% - plugin muze vytvorit blok, ktery vykresluje plugin
% - kdyz se ma blok vykreslit tak se vykresli pomoci volani rozsireni
% - vzajemna komunikace bloku a rozsireni

% \subsection{Panel}

% - kazdy plugin muze zaregistrovat panel
% - jednou vykresleni
% - vzajemna komunikace bloku a panelu
% - vymena dat, napr. pro nastaveni, vytvoreni bloku, editace a dalsi

\section{Hlavní webová stránka}

 Hlavní webová stránka byla vytvořena za účelem propagace aplikace.
 Celý projekt a aplikace nese název \textbf{Materalist}.
 Název vznikl spojením slov \textit{Material} a \textit{Specialist}, čímž odkazuje na zaměření aplikace na práci s různými specializovanými materiály.
 Slouží jako výchozí bod pro návštěvníky, kteří se chtějí dozvědět více o aplikaci, jejích funkcích a možnostech využití. 
 Stránka umožňuje přesměrování na samotnou aplikaci, přístup k dokumentaci a obsahuje přehled funkcionalit.

Důležitou součástí webové prezentace je porovnání s ostatními aplikacemi v dané oblasti. 
To pomáhá uživatelům lépe pochopit výhody a jedinečné vlastnosti aplikace. 
Kromě toho webová stránka představuje dostupné pluginy, které rozšiřují základní funkcionalitu aplikace.

Design webové stránky vychází z vizuálního stylu samotné aplikace (viz kapitola \ref{text:realizace/klient}). 
Stránka je responzivní a optimalizovaná pro různé typy zařízení.

Pro sjednocení vizuální identity bylo navrženo logo aplikace (viz obrázek \ref{fig:logo}), které symbolizuje kombinaci plátna a písmene \enquote{M}, což reflektuje jak materiálový aspekt, tak kreativní přístup k tvorbě obsahu.

\begin{figure}[ht!]
    \centering
    \includegraphics[width=0.4\textwidth]{media/05_realizace/logo.png}
    \caption{Logo aplikace Materalist}
    \label{fig:logo}
\end{figure}


\section{Dokumentace}

- pomoci docosaurus
...

\section{Sestavení a nasazení aplikace}

\section{Vytvořené bloky}

- základní bloky přímo v aplikaci

\subsection{Text}
\subsection{Obrázek}
\subsection{Interaktivní oblast}
\subsection{Mermaid diagram}
\subsection{Iframe okno}
\subsection{Tvar}

\section{Vytvořené rozšíření}

- ukázka systému, vytvořeny nějaká rozšíření
- ukázka a testování systému
- více v testování

\subsection{Centrist}

- ukázka pouze modifikace v editoru (pomocník)
- dovoluje zarovnávat na editoru

\subsection{Dnešní svátek}

- dovoluje vkládat jednoduché pole s dnešním svátkem
- volání externí služby
- využití cache

\subsection{Fluid background}\todo{Actually ještě není vytvořené}

- komplexní vykreslování
- mnoho parametrů přímo v editoru

\subsection{Page numberer}\todo{Actually ještě není vytvořené}

- číslování slidů

\section{Ukázkové materiály}

- ukázka systému, možnost vytvořit komplexní prezentace do jdou v jiných aplikacích
- více v testování